{"version":3,"sources":["app.tsx","report-web-vitals.ts","index.tsx"],"names":["unityContext","UnityContext","productName","companyName","loaderUrl","dataUrl","frameworkUrl","codeUrl","streamingAssetsUrl","webglContextAttributes","preserveDrawingBuffer","App","useState","isUnityMounted","setIsUnityMounted","rotationSpeed","setRotationSpeed","cubeRotation","setCubeRotation","x","y","clickPosition","setClickPosition","saidMessage","setSaidMessage","isLoaded","setIsLoaded","progression","setProgression","handleOnUnityCanvas","canvas","handleOnUnityProgress","handleOnUnityLoaded","handleOnUnityRotationDidUpdate","degrees","Math","round","handleOnUnityClickedPosition","handleOnUnitySayMessage","message","useEffect","on","removeAllEventListeners","send","className","onClick","style","width","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","document","getElementById","render","console","log"],"mappings":"kPAcMA,EAAe,IAAIC,eAAa,CACpCC,YAAa,0BACbC,YAAa,kBAGbC,UAAW,yCACXC,QAAS,oCACTC,aAAc,4CACdC,QAAS,oCACTC,mBAAoB,oCAEpBC,uBAAwB,CACtBC,uBAAuB,KA2IZC,MAtIf,WAEE,MAA4CC,oBAAkB,GAA9D,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA0CF,mBAAiB,IAA3D,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAAwCJ,mBAAiB,GAAzD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAA0CN,mBAAkB,CAAEO,EAAG,EAAGC,EAAG,IAAvE,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAAsCV,mBAAiB,WAAvD,mBAAOW,EAAP,KAAoBC,EAApB,KACA,EAAgCZ,oBAAkB,GAAlD,mBAAOa,EAAP,KAAiBC,EAAjB,KACA,EAAsCd,mBAAiB,GAAvD,mBAAOe,EAAP,KAAoBC,EAApB,KAsBA,SAASC,EAAoBC,IAK7B,SAASC,EAAsBJ,GAC7BC,EAAeD,GAIjB,SAASK,IACPN,GAAY,GAKd,SAASO,EAA+BC,GACtChB,EAAgBiB,KAAKC,MAAMF,IAK7B,SAASG,EAA6BlB,EAAWC,GAC/CE,EAAiB,CAAEH,IAAGC,MAKxB,SAASkB,EAAwBC,GAC/Bf,EAAee,GAuBjB,OAvEAC,qBAAU,WAQR,OAPAxC,EAAayC,GAAG,SAAUZ,GAC1B7B,EAAayC,GAAG,WAAYV,GAC5B/B,EAAayC,GAAG,SAAUT,GAC1BhC,EAAayC,GAAG,oBAAqBR,GACrCjC,EAAayC,GAAG,kBAAmBJ,GACnCrC,EAAayC,GAAG,MAAOH,GAEhB,WACLtC,EAAa0C,6BAEd,IAGHF,qBAAU,WACRxC,EAAa2C,KAAK,YAAa,mBAAoB5B,KAClD,CAACA,IAwDF,cAAC,WAAD,UACE,sBAAK6B,UAAU,UAAf,UAEE,yDACA,uPAOA,wBAAQC,QApBd,YACmB,IAAbpB,GACFC,GAAY,GAEdZ,GAAqC,IAAnBD,IAgBd,6BACA,wBAAQgC,QAhCd,WACE7B,EAAiBD,EAAgB,KA+B7B,4BACA,wBAAQ8B,QA5Bd,WACE7B,EAAiBD,EAAgB,KA2B7B,6BAEoB,IAAnBF,GACC,eAAC,WAAD,WACE,sBAAK+B,UAAU,kBAAf,WAEgB,IAAbnB,GACC,qBAAKmB,UAAU,kBAAf,SACE,qBAAKA,UAAU,eAAf,SACE,qBACEA,UAAU,oBACVE,MAAO,CAAEC,MAAqB,IAAdpB,EAAoB,WAM5C,cAAC,IAAD,CAAOiB,UAAU,eAAe5C,aAAcA,OAGhD,qDACsB,4BAAIiB,IAD1B,WAEE,uBAFF,sBAGqB,kCAAKM,EAAL,OAHrB,IAIE,uBAJF,cAKa,kCAAKF,EAAcF,KALhC,KAKwC,kCAAKE,EAAcD,WAI/D,mDACoB,IAClB,mBAAG4B,KAAK,oCAAR,sCCzIKC,EAlBS,SAAUC,GAC5BA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAMtB,IALFC,EAKC,EALDA,OACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,OACAC,EACC,EADDA,QAEAJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCVRQ,G,MAAcC,SAASC,eAAe,SAG5CC,iBACE,cAAC,aAAD,UACE,cAAC,EAAD,MAEFH,GAIFT,EAAgBa,QAAQC,O","file":"static/js/main.edef8cc0.chunk.js","sourcesContent":["import \"./app.css\";\r\nimport { Fragment, useEffect, useState } from \"react\";\r\nimport Unity, { UnityContext } from \"react-unity-webgl\";\r\n\r\n\r\nimport NamiWalletApi, { Cardano } from './nami-js';\r\nlet nami;\r\n\r\ninterface Vector2 {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\n// This is the context that Unity will use to communicate with the React app.\r\nconst unityContext = new UnityContext({\r\n  productName: \"React Unity WebGL Tests\",\r\n  companyName: \"Jeffrey Lanters\",\r\n  // The url's of the Unity WebGL runtime, these paths are public and should be\r\n  // accessible from the internet and relative to the index.html.\r\n  loaderUrl: \"unitybuild/2020.1/myunityapp.loader.js\",\r\n  dataUrl: \"unitybuild/2020.1/myunityapp.data\",\r\n  frameworkUrl: \"unitybuild/2020.1/myunityapp.framework.js\",\r\n  codeUrl: \"unitybuild/2020.1/myunityapp.wasm\",\r\n  streamingAssetsUrl: \"unitybuild/2020.1/streamingassets\",\r\n  // Additional configuration options.\r\n  webglContextAttributes: {\r\n    preserveDrawingBuffer: true,\r\n  },\r\n});\r\n\r\n// This is the React component that will be rendering the Unity app.\r\nfunction App() {\r\n  // The app's state.\r\n  const [isUnityMounted, setIsUnityMounted] = useState<boolean>(true);\r\n  const [rotationSpeed, setRotationSpeed] = useState<number>(30);\r\n  const [cubeRotation, setCubeRotation] = useState<number>(0);\r\n  const [clickPosition, setClickPosition] = useState<Vector2>({ x: 0, y: 0 });\r\n  const [saidMessage, setSaidMessage] = useState<string>(\"Nothing\");\r\n  const [isLoaded, setIsLoaded] = useState<boolean>(false);\r\n  const [progression, setProgression] = useState<number>(0);\r\n\r\n  // When the component is mounted, we'll register some event listener.\r\n  useEffect(() => {\r\n    unityContext.on(\"canvas\", handleOnUnityCanvas);\r\n    unityContext.on(\"progress\", handleOnUnityProgress);\r\n    unityContext.on(\"loaded\", handleOnUnityLoaded);\r\n    unityContext.on(\"RotationDidUpdate\", handleOnUnityRotationDidUpdate);\r\n    unityContext.on(\"ClickedPosition\", handleOnUnityClickedPosition);\r\n    unityContext.on(\"Say\", handleOnUnitySayMessage);\r\n    // When the component is unmounted, we'll unregister the event listener.\r\n    return function () {\r\n      unityContext.removeAllEventListeners();\r\n    };\r\n  }, []);\r\n\r\n  // When the rotation speed has been updated, it will be sent to Unity.\r\n  useEffect(() => {\r\n    unityContext.send(\"MeshCrate\", \"SetRotationSpeed\", rotationSpeed);\r\n  }, [rotationSpeed]);\r\n\r\n  // Built-in event invoked when the Unity canvas is ready to be interacted with.\r\n  function handleOnUnityCanvas(canvas: HTMLCanvasElement) {\r\n    // canvas.setAttribute(\"role\", \"unityCanvas\");\r\n  }\r\n\r\n  // Built-in event invoked when the Unity app's progress has changed.\r\n  function handleOnUnityProgress(progression: number) {\r\n    setProgression(progression);\r\n  }\r\n\r\n  // Built-in event invoked when the Unity app is loaded.\r\n  function handleOnUnityLoaded() {\r\n    setIsLoaded(true);\r\n  }\r\n\r\n  // Custom event invoked when the Unity app sends a message indicating that the\r\n  // rotation has changed.\r\n  function handleOnUnityRotationDidUpdate(degrees: number) {\r\n    setCubeRotation(Math.round(degrees));\r\n  }\r\n\r\n  // Custom event invoked when the Unity app sends a message indicating that the\r\n  // mouse click position has changed.\r\n  function handleOnUnityClickedPosition(x: number, y: number) {\r\n    setClickPosition({ x, y });\r\n  }\r\n\r\n  // Custom event invoked when the Unity app sends a message including something\r\n  // it said.\r\n  function handleOnUnitySayMessage(message: string) {\r\n    setSaidMessage(message);\r\n  }\r\n\r\n  // Event invoked when the user clicks the button, the speed will be increased.\r\n  function handleOnClickIncreaseSpeed() {\r\n    setRotationSpeed(rotationSpeed + 15);\r\n  }\r\n\r\n  // Event invoked when the user clicks the button, the speed will be decreased.\r\n  function handleOnClickDecreaseSpeed() {\r\n    setRotationSpeed(rotationSpeed - 15);\r\n  }\r\n\r\n  // Event invoked when the user clicks the button, the unity container will be\r\n  // mounted or unmounted depending on the current mounting state.\r\n  function handleOnClickUnMountUnity() {\r\n    if (isLoaded === true) {\r\n      setIsLoaded(false);\r\n    }\r\n    setIsUnityMounted(isUnityMounted === false);\r\n  }\r\n\r\n  // This is the React component that will be rendering the Unity app.\r\n  return (\r\n    <Fragment>\r\n      <div className=\"wrapper\">\r\n        {/* Introduction text */}\r\n        <h1>React Unity WebGL Tests</h1>\r\n        <p>\r\n          In this React Application we'll explore the possibilities with the\r\n          React Unity WebGL Module. Use the built-in events, custom events,\r\n          mount, unmount, press the buttons and resize the view to see the magic\r\n          in action.\r\n        </p>\r\n        {/* Some buttons to interact */}\r\n        <button onClick={handleOnClickUnMountUnity}>(Un)mount Unity</button>\r\n        <button onClick={handleOnClickIncreaseSpeed}>Increase speed</button>\r\n        <button onClick={handleOnClickDecreaseSpeed}>Decrease speed</button>\r\n        {/* The Unity container */}\r\n        {isUnityMounted === true && (\r\n          <Fragment>\r\n            <div className=\"unity-container\">\r\n              {/* The loading screen will be displayed here. */}\r\n              {isLoaded === false && (\r\n                <div className=\"loading-overlay\">\r\n                  <div className=\"progress-bar\">\r\n                    <div\r\n                      className=\"progress-bar-fill\"\r\n                      style={{ width: progression * 100 + \"%\" }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* The Unity app will be rendered here. */}\r\n              <Unity className=\"unity-canvas\" unityContext={unityContext} />\r\n            </div>\r\n            {/* Displaying some output values */}\r\n            <p>\r\n              The cube is rotated <b>{cubeRotation}</b> degrees\r\n              <br />\r\n              The Unity app said <b>\"{saidMessage}\"</b>!\r\n              <br />\r\n              Clicked at <b>x{clickPosition.x}</b>, <b>y{clickPosition.y}</b>\r\n            </p>\r\n          </Fragment>\r\n        )}\r\n        <h6>\r\n          Made with love by{\" \"}\r\n          <a href=\"https://github.com/jeffreylanters\">Jeffrey Lanters</a>\r\n        </h6>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from \"web-vitals\";\n\n// report web vitals\nconst reportWebVitals = function (onPerfEntry?: ReportHandler) {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(function ({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB,\n    }) {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./app\";\nimport reportWebVitals from \"./report-web-vitals\";\nimport \"./index.css\";\n\nconst rootElement = document.getElementById(\"root\");\n\n// renders the app onto the document\nrender(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n\n// enable measuring performance of the app onto the console\nreportWebVitals(console.log);\n"],"sourceRoot":""}